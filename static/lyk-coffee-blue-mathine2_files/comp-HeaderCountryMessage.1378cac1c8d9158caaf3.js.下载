(window.webpackJsonpCrema=window.webpackJsonpCrema||[]).push([[21],{499:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=g(r(0)),o=r(5),s=g(r(6)),l=r(16),u=g(r(4)),c=(g(r(1)),r(8)),i=r(742),f=g(r(20)),d=r(21),p=g(r(54)),h=g(r(25)),y=g(r(19)),m=g(r(22));r(500);var C=r(33);function g(e){return e&&e.__esModule?e:{default:e}}function _(){return a.default.createElement("div",{className:"CloseIcon"},a.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"100%",height:"100%"},a.default.createElement("path",{d:"M19,6.41L17.59,5,12,10.59,6.41,5,5,6.41,10.59,12,5,17.59, 6.41,19,12,13.41,17.59,19,19,17.59,13.41,12z",className:"CloseIcon__path"})))}var v=l.local.namespace("nespresso"),b="hasCloseCountryMessage",w=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,a.default.Component),function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(k,[{key:"componentDidMount",value:function(){"function"==typeof this.props.checkCountry&&this.props.checkCountry()}},{key:"componentWillReceiveProps",value:function(e){var t=e.shouldBeDisplayed;t!==this.props.shouldBeDisplayed&&this.setState({shouldBeDisplayed:t})}},{key:"handleClose",value:function(){var e=this.props.currentMarket;if(e){var t=v.get(b)||{},r=Object.assign({},t,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:!0,enumerable:!0,configurable:!0,writable:!0}):e[t]=!0,e}({},e));v.set(b,r)}this.setState({shouldBeDisplayed:!1})}},{key:"render",value:function(){var e=this.props,t=e.currentmarketMessage,r=e.othercountryMessage,n=e.a11yTitle,o=e.correctStoreUrl,s=e.a11yCloseLabel,l=e.formFactor,c=e.activated,i=e.className;if(!this.state.shouldBeDisplayed||!c)return null;var p=l===d.FORMFACTOR_WIDE?{height:60,marginBottom:20}:{height:80,marginBottom:0},h=p.height,C=p.marginBottom,g=(0,u.default)("HeaderCountryMessage",i);return a.default.createElement("div",{className:g,role:"banner",style:{height:h}},a.default.createElement("style",null,"\n  html {\n    margin-top: "+(h+C)+"px;\n  }\n  .Header__top-wrapper,\n  .HeaderNavigationBar,\n  .HeaderNavigationBar__nav {\n    top: "+h+"px;\n  }\n"),a.default.createElement(y.default,{value:n,tagName:"h2"}),a.default.createElement("div",{className:"HeaderCountryMessage__container ResponsiveContainer"},a.default.createElement("div",{className:"HeaderCountryMessage__text"},a.default.createElement("span",{className:"HeaderCountryMessage__current-market",dangerouslySetInnerHTML:{__html:t}}),a.default.createElement("span",{className:"HeaderCountryMessage__other-country",dangerouslySetInnerHTML:{__html:(0,f.default)(r,{correctStoreUrl:o})}})),a.default.createElement(m.default,{className:"HeaderCountryMessage__close-button",onClick:this.handleClose},a.default.createElement(y.default,{value:s}),a.default.createElement(_,null))))}}]),k);function k(e){!function(e,t){if(!(e instanceof k))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,e));return t.handleClose=t.handleClose.bind(t),t.state={shouldBeDisplayed:t.props.shouldBeDisplayed},t}function M(e,t){return(0,C.fromEcapiGetter)(e)(c.MISC_DATA,c.MISC_COUNTRY_CHECK_DATA,t)}w.defaultProps={shouldBeDisplayed:!1};var E=(0,s.default)((0,o.connect)(function(e){var t=(0,C.getFromState)(e),r=t("config","currentMarket"),n=!!M(e,"showCountryNotification"),a=(v.get(b)||{})[r];return{currentMarket:r,shouldBeDisplayed:n&&!a,correctStoreUrl:M(e,"correctStoreUrl"),formFactor:t("viewport","formFactor")}},function(e){return{checkCountry:function(){return e(i.checkCountry)}}}),(0,h.default)({currentmarketMessage:"wrongcountrynotification.currentmarket.message",othercountryMessage:"wrongcountrynotification.othercountry.message",a11yTitle:"wrongcountrynotification.a11y.title",a11yCloseLabel:"wrongcountrynotification.a11y.button.close"}),p.default);t.default=E(w)},742:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkCountry=t.setCountryCheckData=void 0;var n=r(42),a=r(9),o=t.setCountryCheckData=function(e){return{type:a.ECAPI_SET_COUNTRY_CHECK_DATA,data:e}};t.checkCountry=(0,n.wrapWithPromiseCache)("ECAPI_checkCountry",function(e){return napi.misc().checkCountry().then(function(t){e(o(t))})})}}]);